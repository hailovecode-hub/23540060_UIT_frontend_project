<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªì S∆° - VocabMaster</title>
    <!-- T·ªëi ∆∞u SEO  -->
    <meta name="description"
        content="Qu·∫£n l√Ω th√¥ng tin c√° nh√¢n, thay ƒë·ªïi m·∫≠t kh·∫©u v√† xem t·ªïng quan th√†nh t√≠ch h·ªçc t·∫≠p, huy hi·ªáu ƒë√£ ƒë·∫°t ƒë∆∞·ª£c c·ªßa b·∫°n t·∫°i VocabMaster.">
    <meta property="og:title" content="VocabMaster - H·ªçc Ti·∫øng Anh Th√¥ng Minh v·ªõi AI">
    <meta property="og:description"
        content="Tham gia c√πng h√†ng tri·ªáu ng∆∞·ªùi h·ªçc, ƒë·∫°t ƒë∆∞·ª£c m·ª•c ti√™u ngo·∫°i ng·ªØ c·ªßa b·∫°n v·ªõi AI.">
    <meta property="og:image" content="https://vocabmaster.com/assets/images/thumbnail.jpg">
    <meta property="og:url" content="https://vocabmaster.com/">
    <!--  -->
    <!-- duong-dan-toi-favicon -->
    <link rel="icon" type="image/x-icon" href="../assets/images/favicon.ico">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/profile.css">
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header__container">
            <a href="./home-page.html" style="text-decoration: none;">
                <div class="logo">
                    <span class="logo__icon">ü¶â</span>
                    <span class="logo__text--primary">Vocab</span><span class="logo__text--secondary">Master</span>
                </div>
            </a>
            <nav class="nav">
                <a href="./home-page.html" class="nav__link">üè†</a>
                <a href="./manage-vocab-full.html" class="nav__link">Qu·∫£n l√Ω t·ª´ v·ª±ng</a>
                <a href="./ranking-page.html" class="nav__link">B·∫£ng X·∫øp H·∫°ng</a>
                <a href="./store-page.html" class="nav__link">C·ª≠a H√†ng</a>
            </nav>

            <div class="user-profile">
                <span class="profile-icon" title="H·ªì s∆° c·ªßa b·∫°n">
                    <a href="../pages/profile.html">üë§</a>
                </span>
                <button class="logout-btn" onclick="logout()">ƒêƒÉng xu·∫•t</button>
            </div>
        </div>
    </header>

    <nav class="nav2">
        <a href="./manage-vocab-full.html" class="nav__link">Qu·∫£n l√Ω t·ª´ v·ª±ng</a>
        <a href="./ranking.html" class="nav__link">B·∫£ng X·∫øp H·∫°ng</a>
        <a href="./game-page.html" class="nav__link">T·ªïng Quan Ti·∫øn ƒê·ªô</a>
    </nav>


    <!-- Profile Section -->
    <section class="profile-section">
        <div class="profile-container">
            <!-- Avatar & Stats -->
            <div class="profile-header">
                <div class="avatar-container">
                    <div class="avatar" id="avatar-preview">
                        <img id="avatar-img" src="../assets/images/user-avartar.png" alt="Avatar">
                        <div class="avatar-placeholder">User</div>
                    </div>
                    <label class="avatar-upload-btn">
                        <input type="file" id="avatar-input" accept="image/*" hidden>
                        ƒê·ªïi ·∫£nh
                    </label>
                </div>

                <div class="user-stats">
                    <h1 id="user-fullname">duc hai</h1>
                    <p class="user-email" id="user-email">duc_hai@example.com</p>

                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-value" id="total-words">1,248</span>
                            <span class="stat-label">T·ª´ ƒë√£ h·ªçc</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="streak-days">12</span>
                            <span class="stat-label">Chu·ªói ng√†y</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="xp-points">8,520</span>
                            <span class="stat-label">XP</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="rank-level">Master</span>
                            <span class="stat-label">H·∫°ng</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Edit Form -->
            <div class="profile-form-card">
                <h2>Ch·ªânh s·ª≠a th√¥ng tin</h2>
                <form id="profile-form">
                    <div class="form-group">
                        <label for="fullname">H·ªç v√† t√™n</label>
                        <input type="text" id="fullname" placeholder="Nh·∫≠p h·ªç t√™n" required>
                    </div>

                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" placeholder="email@example.com" required>
                    </div>

                    <div class="form-group">
                        <label for="bio">Ti·ªÉu s·ª≠ (t√πy ch·ªçn)</label>
                        <textarea id="bio" rows="3" placeholder="N√≥i g√¨ ƒë√≥ v·ªÅ b·∫°n..."></textarea>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-primary">L∆∞u thay ƒë·ªïi</button>
                        <button type="button" class="btn-secondary" onclick="resetForm()">H·ªßy</button>
                    </div>
                </form>
            </div>

            <!-- Change Password -->
            <div class="profile-form-card">
                <h2>ƒê·ªïi m·∫≠t kh·∫©u</h2>
                <form id="password-form">
                    <div class="form-group">
                        <label for="current-password">M·∫≠t kh·∫©u hi·ªán t·∫°i</label>
                        <input type="password" id="current-password" required>
                    </div>

                    <div class="form-group">
                        <label for="new-password">M·∫≠t kh·∫©u m·ªõi</label>
                        <input type="password" id="new-password" required>
                    </div>

                    <div class="form-group">
                        <label for="confirm-password">X√°c nh·∫≠n m·∫≠t kh·∫©u</label>
                        <input type="password" id="confirm-password" required>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-primary">C·∫≠p nh·∫≠t m·∫≠t kh·∫©u</button>
                    </div>
                </form>
            </div>

            <!-- Delete Account -->
            <div class="profile-form-card danger-zone">
                <h2>X√≥a t√†i kho·∫£n</h2>
                <p>H√†nh ƒë·ªông n√†y <strong>kh√¥ng th·ªÉ ho√†n t√°c</strong>. T·∫•t c·∫£ d·ªØ li·ªáu s·∫Ω b·ªã x√≥a vƒ©nh vi·ªÖn.</p>
                <button class="btn-danger" onclick="deleteAccount()">X√≥a t√†i kho·∫£n</button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        &copy; 2025 <strong>VocabMaster</strong>. H·ªçc vui ‚Äì Nh·ªõ l√¢u ‚Äì Th√†nh th·∫°o.
    </footer>

    <!-- Scripts -->
    <script>
        // Logout
        function logout() {
            localStorage.removeItem('user');
            alert('ƒêƒÉng xu·∫•t th√†nh c√¥ng!');
            window.location.href = '../index.html';
        }

        // Load user data
        document.addEventListener('DOMContentLoaded', () => {
            const user = JSON.parse(localStorage.getItem('user') || '{}');

            // Default data
            const defaultUser = {
                fullname: 'duc hai',
                email: 'duchai@example.com',
                bio: 'Y√™u th√≠ch h·ªçc t·ª´ v·ª±ng ti·∫øng Anh!',
                avatar: '',
                stats: { words: 1248, streak: 12, xp: 8520, rank: 'Master' }
            };

            const current = { ...defaultUser, ...user };

            // Fill form
            document.getElementById('fullname').value = current.fullname;
            document.getElementById('email').value = current.email;
            document.getElementById('bio').value = current.bio || '';

            // Fill display
            document.getElementById('user-fullname').textContent = current.fullname;
            document.getElementById('user-email').textContent = current.email;
            document.getElementById('total-words').textContent = current.stats.words;
            document.getElementById('streak-days').textContent = current.stats.streak;
            document.getElementById('xp-points').textContent = current.stats.xp.toLocaleString();
            document.getElementById('rank-level').textContent = current.stats.rank;

            // Avatar
            if (current.avatar) {
                document.getElementById('avatar-img').src = current.avatar;
                document.querySelector('.avatar-placeholder').style.display = 'none';
            }
        });

        // Avatar upload
        document.getElementById('avatar-input').addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (ev) => {
                    const img = document.getElementById('avatar-img');
                    img.src = ev.target.result;
                    img.style.display = 'block';
                    document.querySelector('.avatar-placeholder').style.display = 'none';

                    // Save to localStorage
                    const user = JSON.parse(localStorage.getItem('user') || '{}');
                    user.avatar = ev.target.result;
                    localStorage.setItem('user', JSON.stringify(user));
                };
                reader.readAsDataURL(file);
            }
        });

        // Save profile
        document.getElementById('profile-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const user = {
                fullname: document.getElementById('fullname').value,
                email: document.getElementById('email').value,
                bio: document.getElementById('bio').value,
            };

            localStorage.setItem('user', JSON.stringify(user));
            alert('C·∫≠p nh·∫≠t h·ªì s∆° th√†nh c√¥ng!');
            location.reload();
        });

        // Change password
        document.getElementById('password-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const newPass = document.getElementById('new-password').value;
            const confirmPass = document.getElementById('confirm-password').value;

            if (newPass !== confirmPass) {
                alert('M·∫≠t kh·∫©u x√°c nh·∫≠n kh√¥ng kh·ªõp!');
                return;
            }
            if (newPass.length < 6) {
                alert('M·∫≠t kh·∫©u ph·∫£i √≠t nh·∫•t 6 k√Ω t·ª±!');
                return;
            }

            alert('ƒê·ªïi m·∫≠t kh·∫©u th√†nh c√¥ng! (L∆∞u √Ω: ƒê√¢y l√† demo, kh√¥ng c√≥ backend)');
            e.target.reset();
        });

        // Reset form
        function resetForm() {
            document.getElementById('profile-form').reset();
            const user = JSON.parse(localStorage.getItem('user') || '{}');
            document.getElementById('fullname').value = user.fullname || '';
            document.getElementById('email').value = user.email || '';
            document.getElementById('bio').value = user.bio || '';
        }

        // Delete account
        function deleteAccount() {
            if (confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a t√†i kho·∫£n? H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c!')) {
                localStorage.removeItem('user');
                alert('T√†i kho·∫£n ƒë√£ ƒë∆∞·ª£c x√≥a.');
                window.location.href = '../../index.html';
            }
        }

        // Header scroll
        window.addEventListener('scroll', () => {
            document.getElementById('header').classList.toggle('scrolled', window.scrollY > 50);
        });
    </script>
</body>

</html>